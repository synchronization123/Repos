<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabbed Dashboard</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        let csrfToken = "";$(document).ready(function () {
        // Fetch CSRF token
        $.get("https://dojo.com/api/key-v2", function (data) {
            csrfToken = data.csrf_token;
            $("input[name='csrfmiddlewaretoken']").val(csrfToken);
        });
        
        // Function to load tab content
        function loadTab(url, targetDiv) {
            $.ajax({
                url: url + "?csrf=" + csrfToken,
                type: "GET",
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("X-CSRFToken", csrfToken);
                },
                success: function (response) {
                    $(targetDiv).html(response);
                },
                error: function () {
                    alert("Error loading tab content.");
                }
            });
        }
        
        // Tab click event
        $(".tab-link").click(function (e) {
            e.preventDefault();
            let url = $(this).data("url") + "?csrf=" + csrfToken;
            let targetDiv = "#tab-content";
            loadTab(url, targetDiv);
        });
    });
</script>

</head>
<body>
    <input type="hidden" name="csrfmiddlewaretoken" value=""><div>
    <button class="tab-link" data-url="Dashboard.html">Dashboard</button>
    <button class="tab-link" data-url="Patches.html">Patches</button>
    <div id="patches-subtabs" style="display: none; margin-left: 20px;">
        <button class="tab-link" data-url="Engagement.html">Engagement</button>
        <button class="tab-link" data-url="Tests.html">Tests</button>
        <button class="tab-link" data-url="Jira.html">Jira</button>
    </div>
    <button class="tab-link" data-url="VAPT.html">VAPT</button>
    <button class="tab-link" data-url="MCR.html">MCR</button>
</div>

<div id="tab-content">
    <!-- Tab content will be loaded here -->
</div>

</body>
</html>